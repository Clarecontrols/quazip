<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.19"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QuaZip: QuaZip - Qt/C++ wrapper for Minizip</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QuaZip
   &#160;<span id="projectnumber">quazip-1-1-x</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.19 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">QuaZip - Qt/C++ wrapper for Minizip </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="overview"></a>
Overview</h1>
<p><a href="http://www.winimage.com/zLibDll/minizip.html">Minizip, or Gilles Vollant's ZIP/UNZIP package</a> is a simple C library for creating, appending and reading ZIP archives.</p>
<p><a href="http://qt.io/">Qt</a> is a very powerful cross-platform C++ library with a lot of useful modules and classes. With Qt, you can create rich GUIs, perform networking activities, accessing databases and much much more. If Java is “write once, run everywhere”, Qt is “write once, compile everywhere” which is not that bad either.</p>
<p>One thing Qt can't do out-of-the-box is write and read ZIP archives. Of course, you can do it with Minizip, but Minizip has its own interface which isn't exactly compatible with Qt. Namely, in Qt there is an abstract class called <a class="elRef" href="http://doc.qt.io/qt-5.12/qiodevice.html">QIODevice</a>, which is Qt-speak for “input/output stream”. There are a lot of classes that accept <a class="elRef" href="http://doc.qt.io/qt-5.12/qiodevice.html">QIODevice</a> to write some useful things to it—you could serialize XML to a <a class="elRef" href="http://doc.qt.io/qt-5.12/qiodevice.html">QIODevice</a>, for example. Therefore, wouldn't it be useful if you could open a <a class="elRef" href="http://doc.qt.io/qt-5.12/qiodevice.html">QIODevice</a> that would write directly to a file in a ZIP archive? Or read from one? That's exactly where QuaZip comes into the picture.</p>
<p>Technically speaking, QuaZip is a simple C++ wrapper around Minizip. Or you could call it an implementation of the Adapter pattern. With QuaZip, both ZIP files and files inside ZIP archives can be accessed with <a class="elRef" href="http://doc.qt.io/qt-5.12/qiodevice.html">QIODevice</a> API. You can even write ZIP files to a sequential devices like TCP sockets, although some limitations apply in this case.</p>
<h1><a class="anchor" id="download"></a>
Download QuaZip</h1>
<p>The latest downloads are available from the <a href="https://github.com/stachenov/quazip/releases">GitHub page</a>. Downloads are in source format. The documentation you're reading right now can be build with the “doxygen” tool if you have one installed. Just run it from the project directory and it will create the “doc” directory for you. If you don't have Doxygen installed, you can still read offline docs in the “quazip/doc” subdir and in the header files. Don't confuse those dirs:</p>
<ul>
<li>“doc” in the project's root is where Doxygen <em>output</em> is.</li>
<li>“quazip/doc” is where Doxygen <em>input</em> is, the part of it that doesn't belong to any particular header files.</li>
</ul>
<p>Older downloads are available from <a href="http://sourceforge.net/projects/quazip/">QuaZip project's page at SourceForge.net</a>.</p>
<h1><a class="anchor" id="platforms"></a>
Platforms supported</h1>
<p>QuaZip 1.0 was tested on:</p><ul>
<li>Qt 5.15.0 MinGW 8.1 x32</li>
<li>Qt 5.12.9 MinGW 7.3 x32</li>
<li>Qt 5.9.7 CentOS 7 x64</li>
<li>Qt 4.8.7 CentOS 7 x64</li>
</ul>
<p>It should work fine on any platform supported by Qt 4.8.7 or later. In theory, even versions as old as Qt 4.6.2 might work as well, but aren't guaranteed to.</p>
<p>Preliminary Qt 6 support is available as well, but not tested at all.</p>
<h1><a class="anchor" id="whats-new"></a>
What is new in this version of QuaZip?</h1>
<p>See the NEWS.txt file supplied with the distribution.</p>
<h1><a class="anchor" id="Dependencies"></a>
Dependencies</h1>
<p>Just <a href="http://www.zlib.org/">zlib</a> and Qt 4/5/6. Sometimes you can get away with using zlib library bundled into Qt, but usually you need at least its headers.</p>
<p>CMake-wise, you need <code>ZLIB::ZLIB</code> and one of the following: </p><ul>
<li><code>Qt5::Core</code> </li>
<li><code>Qt6::Core</code> and <code>Qt6::Core5Compat</code> </li>
<li><code>Qt4::QtCore</code> </li>
</ul>
<p>To build and run tests, the appropriate Test and Network submodules are needed as well.</p>
<p>Make sure that you have Qt installed with all required headers and utilities (that is, including the 'dev' or 'devel' package on some Linux distros).</p>
<h1><a class="anchor" id="building"></a>
Building, testing and installing</h1>
<p>QuaZip uses CMake since 1.0. If you used qmake to build it, you'll have to switch to CMake now, and it's a good thing because two build systems made everything confusing and inconsistent. CMake may be confusing, badly designed and lack good tutorials, but it's <em>the</em> build system at the time of the writing. Some Linux distros are shipped with incredibly outdated CMake versions, but the good news is, there are official self-contained binary distributions, so just grab the newest version, unpack it somewhere, set up PATH (or symlinks) and you're all set. CMake minimum version 3.15 is required to build QuaZip 1.0.</p>
<dl class="section note"><dt>Note</dt><dd>Instructions given in this section assume that you are using some UNIX dialect, but the build process should be very similar on MinGW x32 too. On other platforms it's essentially the same process, maybe with some CMake adjustments not specific to QuaZip itself.</dd></dl>
<p>To build the library, run: </p><pre class="fragment">$ cd /wherever/quazip/source/is/quazip-x.y.z
$ cmake -S . -B wherever/you/want/your/build/to/be -D QUAZIP_QT_MAJOR_VERSION=4, 5 or 6
$ cmake --build wherever/you/want/your/build/to/be
</pre><p><code>QUAZIP_QT_MAJOR_VERSION</code> is just one number, and it defaults to 5, so if building with Qt 5, it is optional.</p>
<p>On Windows, it may be required to use <code>-G "MinGW Makefiles"</code> or something like that to convince CMake that you really want to use, say, MinGW and not Visual Studio, for example.</p>
<p>To install, run </p><pre class="fragment">$ cmake --build wherever/you/want/your/build/to/be --target install -D CMAKE_INSTALL_PREFIX=/wherever/you/want/to/install
</pre><p>QuaZip installs as CMake package QuaZip-QtX, where X is the major version of Qt. For example, QuaZip-Qt5. Different major versions of QuaZip have different binary names (libquazip1-qt5, for example), which allows to install them in parallel.</p>
<p>To reconfigure (for another Qt version or release/debug, or anything else), just nuke the whole build directory and repeat everything.</p>
<p>By default, QuaZip compiles as a DLL/SO, but respects the standard BUILD_SHARED_LIBS CMake option, adjusting its imports/exports accordingly.</p>
<p>Binary compatibility is guaranteed between minor releases starting with version 1.0, thanks to the Pimpl idiom. That is, the next binary incompatible version will be 2.x in the worst case.</p>
<h1><a class="anchor" id="test"></a>
Testing</h1>
<p>To test, run: </p><pre class="fragment">$ cmake --build wherever/you/want/your/build/to/be --target check
</pre><p>Note that tests are not included in the <code>all</code> target, so if you want to build and test with Qt Creator, add another build step and select the <code>qztest</code> target. Then set up run configuration to launch the qztest binary.</p>
<p>On Windows, you need to set its working directory to the <code>quazip</code> subdirectory of the build tree. The default is the <code>qztest</code> directory, which lead to mysterious crashes because qztest can't find the QuaZip DLL there.</p>
<p>On some systems you may need to set PATH, LD_LIBRARY_PATH or SHLIB_PATH to get “qztest” to actually run and to use the version of QuaZip you've just built, especially if you already have some version of QuaZip installed somewhere.</p>
<p>If everything went fine, the test suite should report a lot of PASS messages and the “All tests executed successfully” message. If something goes wrong, it will provide details and a warning that some tests failed.</p>
<h1><a class="anchor" id="using"></a>
Using</h1>
<p>See the <a class="el" href="usage.html">Usage Page</a>.</p>
<h1><a class="anchor" id="contacts"></a>
Authors and contacts</h1>
<p>This wrapper has been written by Sergei Tachenov. This is my first open source project, and it's pretty old, but it works and many people are happily using it, including myself.</p>
<p>If you have anything to say to me about QuaZip library, feel free to do so (read the <a class="el" href="faq.html">QuaZip FAQ</a> first, though). I can not promise, though, that I fix all the bugs you report in, add any features you want, or respond to your critics, or respond to your feedback at all. I may be busy, I may be tired of working on QuaZip, I may be even dead already (you never know...).</p>
<p>To report bugs or to post ideas about what should be done, use <a href="https://github.com/stachenov/quazip">GitHub</a>. It's an awesome site, where you can report bugs or register yourself an account, fork QuaZip (don't hesitate to do so), create a new branch, make some changes and issue a <a href="https://help.github.com/articles/about-pull-requests/">pull request</a>, which is GitHub's way of offering patches. See CONTRIBUTING.md file for details.</p>
<p>Do not use e-mail to report bugs, please. Reporting bugs and problems with GitHub has that advantage that it is visible to public, and I can always search for open tickets that were created long ago. It is highly unlikely that I will search my mail for that kind of stuff, so if a bug reported by mail isn't fixed immediately, it will likely be forgotten forever.</p>
<p>Old bugs may still be available at <a href="https://sourceforge.net/projects/quazip/">SourceForge</a> for reference.</p>
<p>Copyright (C) 2005-2020 Sergei Tachenov and contributors </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Nov 19 2020 17:09:41 for QuaZip by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.19
</small></address>
</body>
</html>
